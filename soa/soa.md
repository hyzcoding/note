## SOA

#### 简介

SOA(Service-Oriented Architecture)  面向服务架构

将应用程序不同功能单元（称为服务,实际业务）进行拆分，并通过这些服务之间定义良好的接口和契约联系起来,每个服务模块之间相互独立。

## 高并发原则

### 无状态

应用无状态，配置文件有状态

### 拆分

- 系统维度： 系统功能/业务拆分
- 功能维度： 对系统进行功能再拆分
- 读写维度：读写比例进行拆分(单独的读写服务：读大于写；分库分表：写量过大，数据异构：读写聚合，多处数据聚合到一处处理)
- AOP维度：访问特征(CDN)
- 模块维度：MVC、分库分表、连接池等基础代码维护特征。

### 服务化

进程内服务 → 单机远程服务 → 集群手动注册服务 → 自动注册和发现服务 → 服务的分组/隔离/路由 → 服务治理(如限流/黑白名单)

### 消息队列

- 服务解耦(一对多，多对一)、异步处理、削峰/缓冲
- 针对消息失败，重复消息的重试和防重处理

####  目的与特性

- 行为一致性

  同一服务提供的业务行为是一致的

- 

#### 远程通信技术

SOA只是一种架构设计模式，而SOAP、REST、RPC就是根据这种设计模式构建出来的规范。
- 其中SOAP通俗理解就是http+xml的形式
- REST就是http+json的形式
- RPC是基于socket的形式。

CXF就是典型的SOAP/REST框架，dubbo就是典型的RPC框架，而SpringCloud就是遵守REST规范的生态系统。

## 微服务

#### 简介

 基于SOA架构的思想，为了满足移动互联网对大型项目及多客户端的需求，对服务层进行细粒度的拆分。



## SOA与微服务

微服务是在 SOA 上做的升华，微服务架构强调的一个重点是“业务需要彻底的组件化和服务化”。

#### 两者区别

-  微服务相比于SOA更加精细，微服务更多的以独立的进程的方式存在，互相之间并无影响；
-  微服务提供的接口方式更加通用化，例如HTTP RESTful方式，各种终端都可以调用，无关语言、平台限制；
-  微服务更倾向于分布式去中心化的部署方式，在互联网业务场景下更适合。
-  SOA架构主要针对企业级、采用ESB服务（ESB企业服务总线），非常重，需要序列化和反序列化，采用XML格式传输。
-  微服务架构主要互联网公司，轻量级、小巧，独立运行，基于Http+Rest+JSON格式传输。

[做了那么多架构，你真的懂 SOA 了吗？]: https://zhuanlan.zhihu.com/p/126594363

[SOA与微服务]: https://www.cnblogs.com/wwct/p/12952222.html

